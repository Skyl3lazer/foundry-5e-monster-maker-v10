<div class="gmm-artifact artifact--monster artifact--monster--vanity">
    <div class="artifact__header monster__header">
        <div class="monster__image" data-action="open-config" data-config="description"><img src="{{data.gmm.monster.data.image}}"></div>
        <div class="monster__name" data-action="open-config" data-config="description">{{data.gmm.monster.data.name}}</div>
        <div class="monster__description" data-action="open-config" data-config="description">{{data.gmm.monster.data.description}}</div>
        <div class="monster__combat">
            <div class="level" data-action="open-config" data-config="combat">
                <i class="fas fa-crown"></i> {{data.gmm.monster.data.level.label}}
            </div>
            <div class="rank" data-action="open-config" data-config="combat">
                <span class="stars">
                    {{#repeat data.gmm.monster.data.rank.threat}}
                        <i class="fas fa-star"></i>
                    {{/repeat}}
                </span> {{data.gmm.monster.data.rank.name}}
            </div>
            {{#if data.gmm.monster.data.phase}}
                <div class="phase" data-action="open-config" data-config="combat">
                    <i class="fas fa-clock"></i> {{data.gmm.monster.data.phase}}
                </div>
            {{/if}}
            <div class="role" data-action="open-config" data-config="combat">
                <i class="{{data.gmm.monster.data.role.icon}}"></i> {{data.gmm.monster.data.role.name}}
            </div>
        </div>
    </div>
    <div class="artifact__body monster__body" data-track-scrollbars="true" id="monster-body">
        <div class="monster__blocks">
            <div class="monster__blocks__row">
                <div class="gmm-block hit-points">
                    <div class="block__title" data-action="open-config" data-config="hit-points">{{localize 'gmm.monster.artifact.blocks.hit_points.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content hit-points__temporary">
                            <div class="block__value length-{{strlen data.gmm.monster.data.hit_points.temporary}}">
                                <input class="input--thp" data-action="update-field" data-field="gmm.blueprint.hit_points.temporary" data-type="number"/>
                                <i class="far fa-heart"></i> {{data.gmm.monster.data.hit_points.temporary}}
                            </div>
                            <div class="block__description">
                                {{localize 'gmm.monster.artifact.blocks.hit_points.temporary'}}
                            </div>
                        </div>
                        <div class="block__content hit-points__current">
                            <div class="block__value length-{{strlen data.gmm.monster.data.hit_points.current}}">
                                <input class="input--hp" data-action="update-field" data-field="gmm.blueprint.hit_points.current" data-type="number"/>
                                <i class="fas fa-heart"></i> {{data.gmm.monster.data.hit_points.current}}
                            </div>
                            <div class="block__description">
                                {{localize 'gmm.monster.artifact.blocks.hit_points.current'}}
                            </div>
                        </div>
                        <div class="block__content hit-points__maximum">
                            <div class="block__value length-{{strlen data.gmm.monster.data.hit_points.maximum.value}}" title="{{{parseSources data.gmm.monster.data.hit_points.maximum.sources}}}">
                                <i class="fas fa-heartbeat"></i> {{data.gmm.monster.data.hit_points.maximum.value}}
                            </div>
                            <div class="block__description">
                                {{localize 'gmm.monster.artifact.blocks.hit_points.maximum'}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="gmm-block ac">
                    <div class="block__title" data-action="open-config" data-config="armor-class">{{localize 'gmm.monster.artifact.blocks.armor_class.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content">
                            <div class="block__value length-{{strlen data.gmm.monster.data.armor_class.value}}" title="{{{parseSources data.gmm.monster.data.armor_class.sources}}}">
                                <i class="fas fa-shield-alt"></i> {{data.gmm.monster.data.armor_class.value}}
                            </div>
                            <div class="block__description">
                                {{#if data.gmm.monster.data.armor_class.type}}
                                    {{data.gmm.monster.data.armor_class.type}}
                                {{else}}
                                    {{localize 'gmm.monster.artifact.blocks.armor_class.ac'}}
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="gmm-block perception">
                    <div class="block__title" data-action="open-config" data-config="passive-perception">{{localize 'gmm.monster.artifact.blocks.perception.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content">
                            <div class="block__value length-{{strlen data.gmm.monster.data.passive_perception.value}}" title="{{{parseSources data.gmm.monster.data.passive_perception.sources}}}">
                                <i class="fas fa-eye"></i> {{data.gmm.monster.data.passive_perception.value}}
                            </div>
                            <div class="block__description">
                                {{localize 'gmm.monster.artifact.blocks.perception.passive'}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="monster__blocks__row">
                <div class="gmm-block attack">
                    <div class="block__title" data-action="open-config" data-config="attack-bonus">{{localize 'gmm.monster.artifact.blocks.attack_bonus.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content">
                            <button class="block__value button--text length-{{strlen (numberFormat data.gmm.monster.data.attack_bonus.value sign=true)}}" title="{{{parseSources data.gmm.monster.data.attack_bonus.sources}}}" data-action="open-modal" data-modal="modal_basic_attack_ac">
                                <i class="fas fa-crosshairs"></i> {{numberFormat data.gmm.monster.data.attack_bonus.value sign=true}}
                            </button>
                            <div class="block__description">
                                {{#if data.gmm.monster.data.attack_bonus.type}}
                                    {{data.gmm.monster.data.attack_bonus.type}}
                                {{else}}
                                    {{localize 'gmm.monster.artifact.blocks.attack_bonus.vs'}}
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="gmm-block attack-dcs">
                    <div class="block__title" data-action="open-config" data-config="attack-dc">{{localize 'gmm.monster.artifact.blocks.attack_dcs.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content">
                            <button class="block__value button--text button--primary-dc length-{{strlen data.gmm.monster.data.attack_dcs.primary.value}}" title="{{{parseSources data.gmm.monster.data.attack_dcs.primary.sources}}}" data-action="open-modal" data-modal="modal_basic_attack_save">
                                <i class="fas fa-bullseye"></i> {{data.gmm.monster.data.attack_dcs.primary.value}}
                            </button>
                            <div class="block__description">
                                {{#if data.gmm.monster.data.attack_dcs.primary.type}}
                                    {{data.gmm.monster.data.attack_dcs.primary.type}}
                                {{else}}
                                    {{localize 'gmm.monster.artifact.blocks.attack_dcs.primary'}}
                                {{/if}}
                            </div>
                        </div>
                        <div class="block__content">
                            <button class="block__value button--text button--secondary-dc length-{{strlen data.gmm.monster.data.attack_dcs.secondary.value}}" title="{{{parseSources data.gmm.monster.data.attack_dcs.secondary.sources}}}" data-action="open-modal" data-modal="modal_basic_attack_save">
                                <i class="fas fa-bullseye"></i> {{data.gmm.monster.data.attack_dcs.secondary.value}}
                            </button>
                            <div class="block__description">
                                {{#if data.gmm.monster.data.attack_dcs.secondary.type}}
                                    {{data.gmm.monster.data.attack_dcs.secondary.type}}
                                {{else}}
                                    {{localize 'gmm.monster.artifact.blocks.attack_dcs.secondary'}}
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="gmm-block damage">
                    <div class="block__title" data-action="open-config" data-config="damage-per-action">{{localize 'gmm.monster.artifact.blocks.damage.title'}}</div>
                    <div class="block__contents">
                        <div class="block__content static">
                            <button class="block__value button--text button--static-damage length-{{strlen data.gmm.monster.data.damage_per_action.value}}" title="{{{parseSources data.gmm.monster.data.damage_per_action.sources}}}" data-action="open-modal" data-modal="modal_basic_damage">
                                <i class="fas fa-fire"></i> {{data.gmm.monster.data.damage_per_action.value}}
                            </button>
                            {{#unless data.gmm.monster.data.damage_per_action.type}}
                                <div class="block__description">
                                    {{localize 'gmm.monster.artifact.blocks.damage.static'}}
                                </div>
                            {{/unless}}
                        </div>
                        <div class="block__content random">
                            <button class="block__value button--text button--random-damage length-{{strlen data.gmm.monster.data.damage_per_action.dice}}" data-action="open-modal" data-modal="modal_basic_damage">
                                <i class="fas fa-dice"></i> <span class="roll">{{data.gmm.monster.data.damage_per_action.dice}}</span>
                            </button>
                            {{#unless data.gmm.monster.data.damage_per_action.type}}
                                <div class="block__description">
                                    {{localize 'gmm.monster.artifact.blocks.damage.random'}}
                                </div>
                            {{/unless}}
                        </div>
                    </div>
                    {{#if data.gmm.monster.data.damage_per_action.type}}
                        <div class="block__footer">{{data.gmm.monster.data.damage_per_action.type}}</div>
                    {{/if}}
                </div>
            </div>
        </div>
        <div class="gmm-panel panel--properties">
            <div class="panel__header">{{localize 'gmm.monster.artifact.attributes.title'}}</div>
            <div class="panel__body">
                <div class="monster__properties">
                    <div class="monster__property">
                        <div class="property__icon"><i class="fa fa-brain fa-fw"></i></div>
                        <div class="property__body">
                            <span class="property__title" data-action="open-config" data-config="proficiency-bonus">{{localize 'gmm.monster.artifact.attributes.proficiency_bonus'}}</span>
                            <span class="property__value" title="{{{parseSources data.gmm.monster.data.proficiency_bonus.sources}}}">{{numberFormat data.gmm.monster.data.proficiency_bonus.value sign=true}}</span>
                        </div>
                    </div>
                    <div class="monster__property">
                        <div class="property__icon"><i class="fa fa-bolt fa-fw"></i></div>
                        <div class="property__body">
                            <span class="property__title" data-action="open-config" data-config="initiative">{{localize 'gmm.monster.artifact.attributes.initiative'}}</span>
                            <span class="property__value" title="{{{parseSources data.gmm.monster.data.initiative.sources}}}">{{numberFormat data.gmm.monster.data.initiative.value sign=true}}{{#if data.gmm.monster.data.initiative.advantage}} (advantage){{/if}}</span>
                        </div>
                    </div>
                    <div class="monster__property">
                        <div class="property__icon"><i class="fa fa-skull fa-fw"></i></div>
                        <div class="property__body">
                            <span class="property__title" data-action="open-config" data-config="challenge-rating">{{localize 'gmm.monster.artifact.attributes.challenge_rating'}}</span>
                            <span class="property__value" title="{{{parseSources data.gmm.monster.data.challenge_rating.sources}}}">
                                {{formatChallengeRating data.gmm.monster.data.challenge_rating.value}}
                            </span>
                        </div>
                    </div>
                    <div class="monster__property property--divider">
                        <div class="property__icon"><i class="fa fa-star fa-fw"></i></div>
                        <div class="property__body">
                            <span class="property__title" data-action="open-config" data-config="xp">{{localize 'gmm.monster.artifact.attributes.xp'}}</span>
                            <span class="property__value" title="{{{parseSources data.gmm.monster.data.xp.sources}}}">
                                {{numberFormat data.gmm.monster.data.xp.value}}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="monster__modifiers">
                    {{#each gmm.enums.abilities}}
                        <div class="monster__modifier">
                            {{#with (lookup ../data.gmm.monster.data.ability_modifiers .) as | modifier |}}
                                <div class="modifier">
                                    <div class="title" data-action="open-config" data-config="ability-modifiers">{{localize (concat 'gmm.common.ability.' ../. '.code')}}</div>
                                    <div class="value" title="{{{parseSources modifier.sources}}}">
                                        <button class="button--text" data-ability="{{../.}}" data-action="open-modal" data-modal="modal_ability_check">
                                            {{numberFormat modifier.value sign=true}}
                                        </button>
                                    </div>
                                </div>
                            {{/with}}
                            {{#with (lookup ../data.gmm.monster.data.saving_throws .) as | save |}}
                                <div class="save" title="{{{parseSources save.sources}}}">
                                    <button class="button--text" data-save="{{../.}}" data-action="open-modal" data-modal="modal_saving_throw">
                                        {{numberFormat save.value sign=true}}
                                    </button>
                                </div>
                            {{/with}}
                        </div>
                    {{/each}}
                </div>
                <div class="monster__properties">
                    {{#if data.gmm.monster.data.skills}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-lightbulb fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="skills">{{localize 'gmm.monster.artifact.attributes.skills'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.skills as | skill |}}
                                        <button class="button--text monster__skill" data-action="open-modal" data-modal="modal_ability_check" data-ability="{{skill.ability}}" data-skill="{{skill.code}}" title="{{{parseSources skill.sources}}}">
                                            {{skill.title}} {{numberFormat skill.value sign=true}}
                                        </button>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.speeds}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-shoe-prints fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="speed">{{localize 'gmm.monster.artifact.attributes.speeds.title'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.speeds as | speed |}}
                                        <span title="{{{parseSources speed.sources}}}">{{speed.title}} {{#if speed.value}}{{localize (concat 'gmm.monster.artifact.attributes.speeds.' speed.units) distance=speed.value}}{{/if}}{{#if speed.detail}} ({{speed.detail}}){{/if}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.damage_vulnerabilities}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="far fa-star fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="damage-vulnerabilities">{{localize 'gmm.monster.artifact.attributes.damage_vulnerabilities'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.damage_vulnerabilities}}
                                        <span>{{this}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.damage_resistances}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-star-half-alt fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="damage-resistances">{{localize 'gmm.monster.artifact.attributes.damage_resistances'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.damage_resistances}}
                                        <span>{{this}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.damage_immunities}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-star fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="damage-immunities">{{localize 'gmm.monster.artifact.attributes.damage_immunities'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.damage_immunities}}
                                        <span>{{this}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.condition_immunities}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-shield-alt fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="condition-immunities">{{localize 'gmm.monster.artifact.attributes.condition_immunities'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.condition_immunities}}
                                        <span>{{this}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.senses}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-eye fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="senses">{{localize 'gmm.monster.artifact.attributes.senses.title'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.senses as | sense |}}
                                        <span>{{sense.title}}{{#if sense.value}} {{localize (concat 'gmm.monster.artifact.attributes.senses.' sense.units) distance=sense.value}}{{/if}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    {{#if data.gmm.monster.data.languages}}
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-comment fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="languages">{{localize 'gmm.monster.artifact.attributes.languages'}}</div>
                                <div class="property__value">
                                    {{#each data.gmm.monster.data.languages}}
                                        <span>{{this}}</span>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    {{/if}}
                </div>
                {{#if gmm.monster.traits.visible}}
                    <div class="item-collection item-collection--traits {{#unless gmm.monster.traits.items}}empty{{/unless}}">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="traits">{{localize 'gmm.monster.artifact.traits.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat">
                                    {{localize 'gmm.monster.artifact.traits.add'}}
                                </button>
                            </div>
                        </div>
                        {{#if gmm.monster.legendary_resistances.visible}}
                            <div class="legendary__resources resources--legendary-resistances">
                                <div class="legendary__current">
                                    <div class="legendary__value">
                                        <input class="legendary--current" data-action="update-field" data-field="gmm.blueprint.legendary_resistances.current" data-type="number"/>
                                        <i class="far fa-star"></i> {{data.gmm.monster.data.legendary_resistances.current}}
                                    </div>
                                    <div class="legendary__description">
                                        {{localize 'gmm.monster.artifact.legendary_resistances.current'}}
                                    </div>
                                </div>
                                <div class="legendary__maximum">
                                    <div class="legendary__value">
                                        <i class="fas fa-star"></i> {{data.gmm.monster.data.legendary_resistances.maximum}}
                                    </div>
                                    <div class="legendary__description">
                                        {{localize 'gmm.monster.artifact.legendary_resistances.maximum'}}
                                    </div>
                                </div>
                                <div class="legendary__blurb">
                                    <div class="blurb__title" data-action="open-config" data-config="legendary-resistances">{{localize 'gmm.monster.artifact.legendary_resistances.title'}}</div>
                                    <div class="blurb__text">{{localize 'gmm.monster.artifact.legendary_resistances.blurb'}}</div>
                                </div>
                            </div>
                        {{/if}}
                        <div class="item-collection__body">
                            {{#if gmm.monster.traits.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.traits.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.bonus_actions.visible}}
                    <div class="item-collection item-collection--bonus-actions {{#unless gmm.monster.bonus_actions.items}}empty{{/unless}}">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="bonus-actions">{{localize 'gmm.monster.artifact.bonus_actions.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat" data-activation.type="bonus">
                                    {{localize 'gmm.monster.artifact.bonus_actions.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.bonus_actions.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.bonus_actions.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.actions.visible}}
                    <div class="item-collection item-collection--actions {{#unless gmm.monster.actions.items}}empty{{/unless}}">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="actions">{{localize 'gmm.monster.artifact.actions.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat" data-activation.type="action">
                                    {{localize 'gmm.monster.artifact.actions.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.actions.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.actions.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=. itemType="action"}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.reactions.visible}}
                    <div class="item-collection item-collection--reactions {{#unless gmm.monster.reactions.items}}empty{{/unless}}">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="reactions">{{localize 'gmm.monster.artifact.reactions.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat" data-activation.type="reaction">
                                    {{localize 'gmm.monster.artifact.reactions.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.reactions.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.reactions.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.paragon_actions.visible}}
                    <div class="item-collection item-collection--paragon-actions">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="paragon-actions">{{localize 'gmm.monster.artifact.paragon_actions.title'}}</div>
                        </div>
                        <div class="legendary__resources">
                            <div class="legendary__current">
                                <div class="legendary__value">
                                    <input class="legendary--current" data-action="update-field" data-field="gmm.blueprint.paragon_actions.current" data-type="number"/>
                                    <i class="far fa-clock"></i> {{data.gmm.monster.data.paragon_actions.current}}
                                </div>
                                <div class="legendary__description">
                                    {{localize 'gmm.monster.artifact.paragon_actions.current'}}
                                </div>
                            </div>
                            <div class="legendary__maximum">
                                <div class="legendary__value" title="{{{parseSources data.gmm.monster.data.paragon_actions.maximum.sources}}}">
                                    <i class="fas fa-clock"></i> {{data.gmm.monster.data.paragon_actions.maximum.value}}
                                </div>
                                <div class="legendary__description">
                                    {{localize 'gmm.monster.artifact.paragon_actions.maximum'}}
                                </div>
                            </div>
                            <div class="legendary__blurb">
                                <div class="blurb__text">{{localize 'gmm.monster.artifact.paragon_actions.blurb'}}</div>
                            </div>
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.legendary_actions.visible}}
                    <div class="item-collection item-collection--legendary-actions">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="legendary-actions">{{localize 'gmm.monster.artifact.legendary_actions.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat" data-activation.type="legendary">
                                    {{localize 'gmm.monster.artifact.legendary_actions.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="legendary__resources resources--legendary-actions">
                            <div class="legendary__current">
                                <div class="legendary__value">
                                    <input class="legendary--current" data-action="update-field" data-field="gmm.blueprint.legendary_actions.current" data-type="number"/>
                                    <i class="far fa-clock"></i> {{data.gmm.monster.data.legendary_actions.current}}
                                </div>
                                <div class="legendary__description">
                                    {{localize 'gmm.monster.artifact.legendary_actions.current'}}
                                </div>
                            </div>
                            <div class="legendary__maximum">
                                <div class="legendary__value">
                                    <i class="fas fa-clock"></i> {{data.gmm.monster.data.legendary_actions.maximum}}
                                </div>
                                <div class="legendary__description">
                                    {{localize 'gmm.monster.artifact.legendary_actions.maximum'}}
                                </div>
                            </div>
                            <div class="legendary__blurb">
                                <div class="blurb__text">{{localize 'gmm.monster.artifact.legendary_actions.blurb'}}</div>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.legendary_actions.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.legendary_actions.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#if gmm.monster.lair_actions.visible}}
                    <div class="item-collection item-collection--lair-actions">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="lair-actions">{{localize 'gmm.monster.artifact.lair_actions.title'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="feat" data-activation.type="lair">
                                    {{localize 'gmm.monster.artifact.actions.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="legendary__resources resources--lair-actions">
                            <div class="legendary__current">
                                <div class="legendary__value">
                                    <input class="legendary--current" data-action="update-field" data-field="gmm.blueprint.lair_actions.initiative" data-type="number"/>
                                    <i class="fas fa-hourglass"></i> {{data.gmm.monster.data.lair_actions.initiative}}
                                </div>
                                <div class="legendary__description">
                                    {{localize 'gmm.monster.artifact.lair_actions.initiative'}}
                                </div>
                            </div>
                            <div class="legendary__blurb">
                                <div class="blurb__text">{{localize 'gmm.monster.artifact.lair_actions.blurb' initiative=data.gmm.monster.data.lair_actions.initiative}}</div>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.lair_actions.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.lair_actions.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_action.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
            </div>
        </div>
        {{#if gmm.monster.spellbook.visible}}
            <div class="gmm-panel panel--collapsible panel--spellbook" id="panel-spellbook">
                <div class="panel__header">{{localize 'gmm.monster.artifact.spellbook.title'}}</div>
                <div class="panel__body">
                    <div class="monster__properties">
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-magic fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="spellbook">{{localize 'gmm.monster.artifact.spellbook.spellcasting_ability.title'}}</div>
                                <div class="property__value">
                                    {{localize 'gmm.monster.artifact.spellbook.spellcasting_ability.value'
                                        level=gmm.monster.spellbook.spellcasting.level
                                        ability=(localize (concat 'gmm.common.ability.' gmm.monster.spellbook.spellcasting.ability '.name'))
                                    }}
                                </div>
                            </div>
                        </div>
                        <div class="monster__property property--wide">
                            <div class="property__icon"><i class="fas fa-hand-sparkles fa-fw"></i></div>
                            <div class="property__body">
                                <div class="property__title" data-action="open-config" data-config="spellbook">{{localize 'gmm.monster.artifact.spellbook.spellcasting_dc.title'}}</div>
                                <div class="property__value" title="{{{parseSources gmm.monster.spellbook.spellcasting.dc.sources}}}">
                                    {{localize 'gmm.monster.artifact.spellbook.spellcasting_dc.value' dc=gmm.monster.spellbook.spellcasting.dc.value}}
                                </div>
                            </div>
                        </div>
                        {{#if gmm.monster.spellbook.slots.pact.maximum}}
                            {{#with gmm.monster.spellbook.slots.pact as | slot |}}
                                <div class="monster__property property--wide">
                                    <div class="property__icon"><i class="fas fa-hand-sparkles fa-fw"></i></div>
                                    <div class="property__body">
                                        <div class="property__title" data-action="open-config" data-config="spellbook">{{localize (concat 'gmm.monster.artifact.spellbook.slots.level.pact.' slot.level )}}</div>
                                        <div class="property__value">
                                            <span class="current-slots">
                                                <input class="input--slots" data-action="update-field" data-field="gmm.blueprint.spellbook.slots.pact.current" data-type="number">
                                                {{localize 'gmm.monster.artifact.spellbook.slots.current' current=slot.current maximum=slot.maximum}}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            {{/with}}
                        {{/if}}
                    </div>
                    {{#for 0 (add gmm.monster.spellbook.maximum_visible_spell_level 1) 1}}
                        <div class="item-collection item-collection--spells {{#unless (lookup ../gmm.monster.spellbook.spells (concat .))}}empty{{/unless}} ">
                            <div class="item-collection__header">
                                <div class="title">
                                    <span data-action="open-config" data-config="spellbook">
                                        {{localize (concat 'gmm.monster.artifact.spellbook.spells.' . )}}
                                    </span>
                                    {{#if .}}
                                        {{#with (lookup ../gmm.monster.spellbook.slots (concat .)) as | slot |}}
                                            <span class="current-slots">
                                                <input class="input--slots" data-action="update-field" data-field="gmm.blueprint.spellbook.slots.{{../.}}.current" data-type="number">
                                                ({{slot.current}} / {{slot.maximum}})
                                            </span>
                                        {{/with}}
                                    {{/if}}
                                </div>
                                <div class="column column--components">{{localize 'gmm.monster.artifact.spellbook.spells.components'}}</div>
                                <div class="column column--target">{{localize 'gmm.monster.artifact.spellbook.spells.target'}}</div>
                                <div class="column column--activation">{{localize 'gmm.monster.artifact.spellbook.spells.activation'}}</div>
                                <div class="actions">
                                    <button class="header__add" data-action="add-item" data-type="spell" data-level="{{.}}" data-preparation.mode="prepared">
                                        {{localize 'gmm.monster.artifact.spellbook.add'}}
                                    </button>
                                </div>
                            </div>
                            <div class="item-collection__body">
                                {{#if (lookup ../gmm.monster.spellbook.spells .)}}
                                    <div class="item-list">
                                        {{#each (lookup ../gmm.monster.spellbook.spells .) as | item |}}
                                            {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_spell.html" item=item}}
                                        {{/each}}
                                    </div>
                                {{/if}}
                            </div>
                        </div>
                    {{/for}}
                </div>
            </div>
        {{/if}}
        {{#if gmm.monster.inventory.visible}}
            <div class="gmm-panel panel--collapsible panel--inventory" id="panel-inventory">
                <div class="panel__header">{{localize 'gmm.monster.artifact.inventory.title'}}</div>
                <div class="panel__body">
                    {{#if gmm.monster.inventory.show_currencies}}
                        <div class="currencies">
                            <div class="currencies__title" data-action="open-config" data-config="inventory">
                                <div class="title"><i class="fas fa-coins"></i> {{localize 'gmm.monster.artifact.inventory.coins.title'}}</div>
                            </div>
                            <div class="currencies__list">
                                <div class="currency">
                                    <div class="title">{{localize 'gmm.monster.artifact.inventory.coins.copper'}}</div>
                                    <div class="value">
                                        <input class="input--currency" data-action="update-field" data-field="gmm.blueprint.inventory.currency.cp" data-type="number">
                                        {{gmm.monster.inventory.currency.cp}}
                                    </div>
                                </div>
                                <div class="currency">
                                    <div class="title">{{localize 'gmm.monster.artifact.inventory.coins.silver'}}</div>
                                    <div class="value">
                                        <input class="input--currency" data-action="update-field" data-field="gmm.blueprint.inventory.currency.sp" data-type="number">
                                        {{gmm.monster.inventory.currency.sp}}
                                    </div>
                                </div>
                                <div class="currency">
                                    <div class="title">{{localize 'gmm.monster.artifact.inventory.coins.electrum'}}</div>
                                    <div class="value">
                                        <input class="input--currency" data-action="update-field" data-field="gmm.blueprint.inventory.currency.ep" data-type="number">
                                        {{gmm.monster.inventory.currency.ep}}
                                    </div>
                                </div>
                                <div class="currency">
                                    <div class="title">{{localize 'gmm.monster.artifact.inventory.coins.gold'}}</div>
                                    <div class="value">
                                        <input class="input--currency" data-action="update-field" data-field="gmm.blueprint.inventory.currency.gp" data-type="number">
                                        {{gmm.monster.inventory.currency.gp}}
                                    </div>
                                </div>
                                <div class="currency">
                                    <div class="title">{{localize 'gmm.monster.artifact.inventory.coins.platinum'}}</div>
                                    <div class="value">
                                        <input class="input--currency" data-action="update-field" data-field="gmm.blueprint.inventory.currency.pp" data-type="number">
                                        {{gmm.monster.inventory.currency.pp}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {{/if}}
                    <div class="item-collection item-collection--items {{#unless gmm.monster.inventory.items}}empty{{/unless}}">
                        <div class="item-collection__header">
                            <div class="title" data-action="open-config" data-config="inventory">{{localize 'gmm.monster.artifact.inventory.items.title'}}</div>
                            <div class="column column--quantity">{{localize 'gmm.monster.artifact.inventory.items.quantity'}}</div>
                            <div class="actions">
                                <button class="header__add" data-action="add-item" data-type="loot">
                                    {{localize 'gmm.monster.artifact.inventory.add'}}
                                </button>
                            </div>
                        </div>
                        <div class="item-collection__body">
                            {{#if gmm.monster.inventory.items}}
                                <div class="item-list">
                                    {{#each gmm.monster.inventory.items as | item |}}
                                        {{> "modules/giffyglyphs-5e-monster-maker/templates/monster/skins/vanity/partials/artifact_loot.html" item=.}}
                                    {{/each}}
                                </div>
                            {{/if}}
                        </div>
                    </div>
                    {{#if gmm.monster.inventory.show_encumbrance}}
                        <div class="monster__properties">
                            <div class="monster__property">
                                <div class="property__icon"><i class="fas fa-shopping-bag fa-fw"></i></div>
                                <div class="property__body">
                                    <div class="property__title" data-action="open-config" data-config="inventory">{{localize 'gmm.monster.artifact.inventory.capacity'}}</div>
                                    <div class="property__value" title="{{{parseSources gmm.monster.inventory.capacity.sources}}}">{{gmm.monster.inventory.capacity.value}}</div>
                                </div>
                            </div>
                            <div class="monster__property">
                                <div class="property__icon"><i class="fas fa-balance-scale fa-fw"></i></div>
                                <div class="property__body">
                                    <div class="property__title" data-action="open-config" data-config="inventory">{{localize 'gmm.monster.artifact.inventory.encumbrance'}}</div>
                                    <div class="property__value">{{gmm.monster.inventory.encumbrance}}%</div>
                                </div>
                            </div>
                            <div class="monster__property">
                                <div class="property__icon"><i class="fas fa-weight fa-fw"></i></div>
                                <div class="property__body">
                                    <div class="property__title" data-action="open-config" data-config="inventory">{{localize 'gmm.monster.artifact.inventory.weight'}}</div>
                                    <div class="property__value" title="{{{parseSources gmm.monster.inventory.weight.sources}}}">{{gmm.monster.inventory.weight.value}}</div>
                                </div>
                            </div>
                            <div class="monster__property">
                                <div class="property__icon"><i class="fas fa-coins fa-fw"></i></div>
                                <div class="property__body">
                                    <div class="property__title" data-action="open-config" data-config="inventory">{{localize 'gmm.monster.artifact.inventory.currency'}}</div>
                                    <div class="property__value">{{gmm.monster.inventory.currency.valuation}} GP</div>
                                </div>
                            </div>
                        </div>
                    {{/if}}
                </div>
            </div>
        {{/if}}
        {{#unless gmm.monster.biography.always_hide}}
            {{#if gmm.monster.biography.text}}
                <div class="gmm-panel panel--collapsible panel--biography" id="panel-biography">
                    <div class="panel__header">{{localize 'gmm.monster.artifact.biography.title'}}</div>
                    <div class="panel__body">
                        {{{gmm.monster.biography.text}}}
                    </div>
                </div>
            {{/if}}
        {{/unless}}
    </div>
</div>